<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Air Quality Checker</title>

<style>
  body{
    font-family: Arial, sans-serif;
    background:#f2f2f2;
    padding:20px;
  }

  h1{
    text-align:center;
  }

  .container{
    max-width:500px;
    margin:auto;
    background:#fff;
    padding:20px;
    border-radius:8px;
    text-align:center;
  }

  select{
    width:100%;
    padding:10px;
    margin-bottom:15px;
  }

  .result{
    margin-top:15px;
  }

  .good{color:green;}
  .moderate{color:orange;}
  .poor{color:red;}
</style>
</head>

<body>

<h1>ğŸŒ«ï¸ Air Quality Checker</h1>

<div class="container">

  <select id="citySelect" onchange="getAirQuality()">
    <option value="">Select City</option>
    <option value="28.61,77.20">Delhi</option>
    <option value="19.07,72.87">Mumbai</option>
    <option value="13.08,80.27">Chennai</option>
    <option value="12.97,77.59">Bangalore</option>
    <option value="22.57,88.36">Kolkata</option>
  </select>

  <div class="result" id="result"></div>

</div>

<script>
  async function getAirQuality(){
    const value = document.getElementById("citySelect").value;
    const result = document.getElementById("result");

    if(value === ""){
      result.innerHTML = "";
      return;
    }

    const [lat, lon] = value.split(",");

    result.innerHTML = "Loading air quality data...";

    try{
      const res = await fetch(
        `https://air-quality-api.open-meteo.com/v1/air-quality?latitude=${lat}&longitude=${lon}&current=us_aqi,pm2_5,pm10`
      );
      const data = await res.json();

      const aqi = data.current.us_aqi;
      const pm25 = data.current.pm2_5;
      const pm10 = data.current.pm10;

      let status = "good";
      let advice = "Air quality is good. Enjoy outdoor activities.";

      if(aqi > 50 && aqi <= 100){
        status = "moderate";
        advice = "Sensitive groups should limit prolonged outdoor exertion.";
      }
      else if(aqi > 100){
        status = "poor";
        advice = "Avoid outdoor activities. Wear a mask if necessary.";
      }

      result.innerHTML = `
        <h3 class="${status}">AQI: ${aqi}</h3>
        <p><b>PM2.5:</b> ${pm25} Âµg/mÂ³</p>
        <p><b>PM10:</b> ${pm10} Âµg/mÂ³</p>
        <p><b>Health Advice:</b> ${advice}</p>
      `;
    }
    catch(error){
      result.innerHTML = "Failed to fetch air quality data";
    }
  }
</script>

</body>
</html>
